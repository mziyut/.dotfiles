#!/bin/sh

# create symbolic link
echo "Create symbolic link ..."
## vim
echo "=> [vim] ~/.vimrc, ~/.vim"
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.vimrc ~/.vimrc
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.vim ~/.vim

## nvim
echo "=> [nvim] ~/.config/nvim"
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.config/nvim ~/.config/nvim

## tumux
echo "=> [tmux] ~/.tmux.conf"
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.tmux.conf ~/.tmux.conf

## git
echo "=> [git] ~/.gitignore, ~/.gitconfig"
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.gitignore ~/.gitignore
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.gitconfig ~/.gitconfig

## zsh
echo "=> [zsh] ~/.zshrc, ~/.zsh"
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.zshrc ~/.zshrc
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.zsh ~/.zsh

## gem
echo "=> [gem] ~/.gemrc, ~/.bundle"
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.gemrc ~/.gemrc
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.bundle ~/.bundle

## php
echo "=> [php] ~/.composer"
ln -sfn ~/Workspace/github.com/mziyut/.dotfiles/.composer ~/.composer

# Brew
echo "Brew install"

if !(type "brew" > /dev/null 2>&1); then
	echo "=> Brew command not install."
	/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
fi

## install package management tool
brew bundle install --file ~/Workspace/github.com/mziyut/.dotfiles/Brewfile

# tmux
echo "Tmux setup"

## tmux tpm plugin
TMUX_TMP_DIR='$HOME/.tmux/plugins/tpm'
if [ ! -d $TMUX_TMP_DIR ]; then
	echo "Install tmux tmp plugin ..."
	/bin/sh -c "git clone https://github.com/tmux-plugins/tpm ${TMUX_TMP_DIR}"
fi

pip3 install --user pynvim
